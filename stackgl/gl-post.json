{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/stackgl/gl-post\">gl-post</a><div class=\"contrib\"></div></h1>\n<p>\n\n\n</p>\n<p>Simple WebGL post-processing using some pieces from <a href=\"http://stack.gl/\">stackgl</a>.</p>\n<p><strong><a href=\"http://stack.gl/gl-post\">check out the demo</a></strong>.</p>\n<iframe scrolling=\"no\" seamless=\"seamless\" src=\"http://stack.gl/gl-post/\"></iframe><h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://nodei.co/npm/gl-post/\"></a></p>\n<p>See the <a href=\"http://github.com/stackgl/gl-post/blob/master/example\">example</a> code for a full usage example.</p>\n<h3 id=\"-post-glpost-gl-shader-opts-\"><code>post = glPost(gl, shader, opts={})</code></h3>\n<p>Creates a new post-processing instance, where <code>gl</code> is a <code>WebGLContext</code> instance\nand <code>shader</code> is a shader instance from either\n<a href=\"http://github.com/mikolalysenko/gl-shader-core\">gl-shader-core</a> or\n<a href=\"http://github.com/stackgl/glslify\">glslify</a>.</p>\n<p>The vertex shader is supplied for you, and available at <code>gl-post/post.vert</code>.\nThe shader you pass in may also be a function that takes a <code>WebGLContext</code> and\nreturns a shader instance too, so the following is valid:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;glslify&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>glslify</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;glPost&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-post</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>post&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>glPost</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>glslify</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function-call js\"><span class=\"meta function-call js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;vert</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-post</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function-call js\"><span class=\"meta function-call js\"><span>&#xA0;&#xA0;</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;frag</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>./src/my-shader.frag</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function-call js\"><span class=\"meta function-call js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span></span></div>\n</code></pre>\n<p>There are also a few options you can include too:</p>\n<ul>\n<li><code>minFilter</code>: the texture minification filter to use. Defaults to <code>gl.LINEAR</code>.</li>\n<li><code>magFilter</code>: the texture magnification filter to use. Defaults to <code>gl.LINEAR</code>.</li>\n<li><code>colorBufferName</code>: the name of your color buffer uniform to use in your\nshader. Defaults to <code>colorBuffer</code>.</li>\n</ul>\n<p>In simple cases, you&apos;ll want to do something like this:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;glslify&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>glslify</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;glPost&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-post</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>post&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>glPost</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>glslify</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function-call js\"><span class=\"meta function-call js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;vert</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-post</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function-call js\"><span class=\"meta function-call js\"><span>&#xA0;&#xA0;</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;frag</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>./src/my-shader.frag</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function-call js\"><span class=\"meta function-call js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"entity name function js\"><span>render</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"variable other object js\"><span>post</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>bind</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;Note&#xA0;that&#xA0;it&apos;s&#xA0;important&#xA0;you&#xA0;clear&#xA0;your</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;depth/color&#xA0;buffers&#xA0;for&#xA0;this&#xA0;to&#xA0;work&#xA0;properly&#xA0;:)</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"variable other object js\"><span>gl</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>clear</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"variable other object js\"><span>gl</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"constant other property js\"><span>COLOR_BUFFER_BIT</span></span><span>&#xA0;</span><span class=\"keyword operator bitwise js\"><span>|</span></span><span>&#xA0;</span><span class=\"variable other object js\"><span>gl</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"constant other property js\"><span>DEPTH_BUFFER_BIT</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"variable other object js\"><span>gl</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>viewport</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable other object js\"><span>canvas</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support constant dom js\"><span>width</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable other object js\"><span>canvas</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support constant dom js\"><span>height</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;...draw&#xA0;your&#xA0;scene&#xA0;to&#xA0;the&#xA0;framebuffer&#xA0;here...</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"variable other object js\"><span>post</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>draw</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div>\n</code></pre>\n<h3 id=\"-post-shader-\"><code>post.shader</code></h3>\n<p>The shader you gave <code>gl-post</code> will also be exposed here, for quickly changing\nuniform variable values.</p>\n<h3 id=\"-post-bind-\"><code>post.bind()</code></h3>\n<p>Starts drawing to the post-processing buffer. Anything you do now will not be\nimmediately drawn to the screen, but instead drawn to an off-screen\n<a href=\"http://github.com/stackgl/gl-fbo\">framebuffer</a> for you to draw later using\nthe post-processing shader.</p>\n<p>You should this when you&apos;re ready to start drawing your scene.</p>\n<h3 id=\"-post-draw-\"><code>post.draw()</code></h3>\n<p>Draws the framebuffer to the screen using your shader, returning your drawing\npower to the screen in the process.</p>\n<h3 id=\"-post-unbind-\"><code>post.unbind()</code></h3>\n<p>Call this if you want to explicitly disable rendering to the framebuffer before\ndrawing to the screen.</p>\n<h2 id=\"license\">License</h2>\n<p>MIT. See <a href=\"http://github.com/stackgl/gl-post/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}