{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/wwwtyro/trackball-controller\">trackball-controller</a><div class=\"contrib\"></div></h1>\n<p>Captures mouse events on an element and translates them to trackball-like motion.</p>\n<p><a href=\"http://wwwtyro.github.io/trackball-controller/example/\">demo</a></p>\n<iframe scrolling=\"no\" seamless=\"seamless\" src=\"http://wwwtyro.github.io/trackball-controller/\"></iframe><h2 id=\"example\">Example</h2>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;Trackball&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>trackball-controller</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;trackball&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>Trackball</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>canvasElement</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;Call&#xA0;the&#xA0;render&#xA0;function&#xA0;when&#xA0;a&#xA0;rotation&#xA0;event&#xA0;occurs.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;onRotate</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;render</span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;Decrease&#xA0;the&#xA0;momentum&#xA0;by&#xA0;1%&#xA0;each&#xA0;iteration&#xA0;of&#xA0;the&#xA0;internal&#xA0;trackball</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;loop.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;drag</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.01</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;Simulate&#xA0;the&#xA0;user&#xA0;spinning&#xA0;the&#xA0;trackball&#xA0;13&#xA0;pixels&#xA0;to&#xA0;the&#xA0;right.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>trackball</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>spin</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>13</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"entity name function js\"><span>render</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;Set&#xA0;the&#xA0;model&#xA0;transform&#xA0;to&#xA0;the&#xA0;rotation&#xA0;of&#xA0;the&#xA0;trackball.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;program</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>uniforms</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>uModel&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;trackball</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>rotation</span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;geometry</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>draw</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>TRIANGLES</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div>\n</code></pre>\n<h2 id=\"usage\">Usage</h2>\n<h3 id=\"install\">Install</h3>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;trackball-controller</span></span></div>\n</code></pre>\n<h3 id=\"api\">API</h3>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;trackball&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>Trackball</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>targetElement</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span><span>opts</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<p>Creates a new <code>Trackball</code> object and kicks off a 60FPS internal loop to update the\nmomentum of the trackball. Listens to <code>mousedown</code> events on the <code>targetElement</code>\nDOM element.</p>\n<h4 id=\"options\">Options</h4>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;speed</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.005</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;container</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"support class js\"><span>window</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta function json js\"><span class=\"entity name function js\"><span>onRotate</span></span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&#xA0;</span><span class=\"storage type function js\"><span>function</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"punctuation section scope begin js\"><span>{</span></span><span class=\"punctuation section scope end js\"><span>}</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;drag</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.0</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div>\n</code></pre>\n<ul>\n<li><code>speed</code> is how many radians are rotated per pixel the mouse is dragged.\nDefaults to <code>0.005</code> radians/pixel.</li>\n<li><code>container</code> is the element that will listen to <code>mouseup</code> and <code>mousemove</code> events.\nThis allows the user to interact with the trackball even outside of the bounds\nof the <code>targetElement</code>. Defaults to <code>window</code>, which will maximize the\ninteractive region.</li>\n<li><code>onRotate</code> is a callback function triggered whenever the trackball rotates,\neither through user interaction via the mouse or during momentum-compelled\nmotion. Defaults to an empty function.</li>\n<li><code>drag</code> is what fraction of the trackball&apos;s momentum is lost during internal\nloop iterations. Set to <code>0.0</code> to make the trackball spin forever,\n<code>1.0</code> to make it spin not at all outside of mouse interaction, or somewhere\nin between to make the spin gradually degrade to zero.</li>\n</ul>\n"}