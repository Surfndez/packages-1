{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/mikolalysenko/3d-view\">3d-view</a><div class=\"contrib\"></div></h1>\n<p>This module is a generic interface which synchronizes several existing view interactions</p>\n<ul>\n<li><a href=\"https://github.com/mikolalysenko/turntable-camera-controller\">turntable-camera-controller</a></li>\n<li><a href=\"https://github.com/mikolalysenko/orbit-camera-controller\">orbit-camera-controller</a></li>\n<li><a href=\"https://github.com/mikolalysenko/orbit-camera-controller\">matrix-camera-controller</a></li>\n</ul>\n<p>Each camera controller proceeds by appending events onto a log.  The current camera state is obtained by interpolating between these events.</p>\n<iframe scrolling=\"no\" seamless=\"seamless\" src=\"http://mikolalysenko.github.io/3d-view/\"></iframe><h2 id=\"api\">API</h2>\n<p><a href=\"https://mikolalysenko.github.io/3d-view\">Try a more complete demo here</a></p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;now&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>right-now</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;bunny&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>bunny</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;perspective&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-mat4/perspective</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;fit&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>canvas-fit</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;createContext&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-context</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;createAxes&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-axes</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;createMesh&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-simplicial-complex</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;createCamera&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>3d-view</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Set&#xA0;up&#xA0;WebGL</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;canvas&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support class js\"><span>document</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>createElement</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>canvas</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support class js\"><span>document</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant dom js\"><span>body</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>appendChild</span></span><span class=\"meta brace round js\"><span>(</span></span><span>canvas</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support class js\"><span>window</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>addEventListener</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>resize</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;fit</span><span class=\"meta brace round js\"><span>(</span></span><span>canvas</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant language boolean false js\"><span>false</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;gl&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;createContext</span><span class=\"meta brace round js\"><span>(</span></span><span>canvas</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"punctuation section scope begin js\"><span>{</span></span><span class=\"punctuation section scope end js\"><span>}</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;render</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Create&#xA0;objects&#xA0;for&#xA0;rendering</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;bounds&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span><span>[</span></span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta brace square js\"><span>]</span><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;mesh&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;createMesh</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;cells</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;bunny</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant dom js\"><span>cells</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;positions</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;bunny</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>positions</span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;colormap</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>jet</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;axes&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;createAxes</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;bounds</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;bounds</span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;tickSpacing</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;textSize</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.05</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Set&#xA0;up&#xA0;camera</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;projectionMatrix&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>Array</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>16</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;camera&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;createCamera</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;center</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant numeric js\"><span>0.5</span></span><span class=\"keyword operator js\"><span>*</span></span><span class=\"meta brace round js\"><span>(</span></span><span>bounds</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"keyword operator js\"><span>+</span></span><span>bounds</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant numeric js\"><span>0.5</span></span><span class=\"keyword operator js\"><span>*</span></span><span class=\"meta brace round js\"><span>(</span></span><span>bounds</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"keyword operator js\"><span>+</span></span><span>bounds</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant numeric js\"><span>0.5</span></span><span class=\"keyword operator js\"><span>*</span></span><span class=\"meta brace round js\"><span>(</span></span><span>bounds</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span class=\"constant numeric js\"><span>2</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"keyword operator js\"><span>+</span></span><span>bounds</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span class=\"constant numeric js\"><span>2</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;eye</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;bounds</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span class=\"constant numeric js\"><span>2</span></span><span class=\"meta brace square js\"><span>]</span><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;distanceLimits</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1000</span></span><span class=\"meta brace square js\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Create&#xA0;mode&#xA0;drop&#xA0;down</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;modeSelect&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support class js\"><span>document</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>createElement</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>select</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>modes</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>forEach</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>mode</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;modeSelect</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>add</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>Option</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>mode</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mode</span><span class=\"meta brace round js\"><span>)</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>modeSelect</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>style</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>position&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>absolute</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>modeSelect</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>style</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>left</span></span><span>&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>10px</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>modeSelect</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>style</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>top</span></span><span>&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>10px</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>modeSelect</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>style</span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>z-index</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span>&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>10</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support class js\"><span>document</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant dom js\"><span>body</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>appendChild</span></span><span class=\"meta brace round js\"><span>(</span></span><span>modeSelect</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Hook&#xA0;event&#xA0;listeners</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;lastX&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;lastY&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function js\"><span class=\"support class js\"><span>document</span></span><span>.</span><span class=\"entity name function js\"><span>oncontextmenu</span></span><span>&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"storage type function js\"><span>function</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>e</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;e</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>preventDefault</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;e</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>stopPropagation</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>return</span></span><span>&#xA0;</span><span class=\"constant language boolean false js\"><span>false</span></span><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>modeSelect</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>addEventListener</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>change</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>ev</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>setMode</span><span class=\"meta brace round js\"><span>(</span></span><span>modeSelect</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant dom js\"><span>value</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>canvas</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>addEventListener</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>mousemove</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>ev</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;dx&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;&#xA0;</span><span class=\"meta brace round js\"><span>(</span></span><span>ev</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>clientX&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span>&#xA0;lastX</span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>/</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferWidth</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;dy&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"meta brace round js\"><span>(</span></span><span>ev</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>clientY&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span>&#xA0;lastY</span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>/</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferHeight</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span class=\"meta brace round js\"><span>(</span></span><span>ev</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>which&#xA0;</span><span class=\"keyword operator comparison js\"><span>===</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span class=\"meta brace round js\"><span>(</span></span><span>ev</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>shiftKey</span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>zoom</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>rotate</span><span class=\"meta brace round js\"><span>(</span></span><span>now</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;dx</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span>&#xA0;</span><span class=\"keyword control js\"><span>else</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>rotate</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>rotate</span><span class=\"meta brace round js\"><span>(</span></span><span>now</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;dx</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;dy</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span>&#xA0;</span><span class=\"keyword control js\"><span>else</span></span><span>&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span class=\"meta brace round js\"><span>(</span></span><span>ev</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>which&#xA0;</span><span class=\"keyword operator comparison js\"><span>===</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>3</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>pan</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>pan</span><span class=\"meta brace round js\"><span>(</span></span><span>now</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;dx</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;dy</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;lastX&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;ev</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>clientX</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;lastY&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;ev</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>clientY</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>canvas</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>addEventListener</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>wheel</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>e</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>pan</span><span class=\"meta brace round js\"><span>(</span></span><span>now</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;e</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>deltaY</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Redraw&#xA0;frame</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"entity name function js\"><span>render</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Update&#xA0;camera&#xA0;parameters</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;t&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;now</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>idle</span><span class=\"meta brace round js\"><span>(</span></span><span>t&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>20</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>flush</span><span class=\"meta brace round js\"><span>(</span></span><span>t&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>100</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>recalcMatrix</span><span class=\"meta brace round js\"><span>(</span></span><span>t</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>25</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Compute&#xA0;parameters</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;cameraParams&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;view</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;camera</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>computedMatrix</span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;projection</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;perspective</span><span class=\"meta brace round js\"><span>(</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>[</span><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"support class js\"><span>Math</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>PI</span></span><span class=\"keyword operator js\"><span>/</span></span><span class=\"constant numeric js\"><span>4.0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferWidth</span><span class=\"keyword operator js\"><span>/</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferHeight</span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant numeric js\"><span>0.1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant numeric js\"><span>1000.0</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>Draw&#xA0;everything</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>viewport</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferWidth</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferHeight</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>enable</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>DEPTH_TEST</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;axes</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>draw</span><span class=\"meta brace round js\"><span>(</span></span><span>cameraParams</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>draw</span><span class=\"meta brace round js\"><span>(</span></span><span>cameraParams</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div>\n</code></pre>\n<h2 id=\"constructor\">Constructor</h2>\n<h4 id=\"-var-camera-require-3d-view-options-\"><code>var camera = require(&apos;3d-view&apos;)([options])</code></h4>\n<h2 id=\"methods\">Methods</h2>\n<h4 id=\"-camera-idle-t-\"><code>camera.idle(t)</code></h4>\n<p>Idles the camera at time <code>t</code></p>\n<ul>\n<li><code>t</code> is the time to idle at</li>\n</ul>\n<h4 id=\"-camera-flush-t-\"><code>camera.flush(t)</code></h4>\n<p>Flush all events in camera state before time <code>t</code></p>\n<ul>\n<li><code>t</code> is the cut off time for the flush</li>\n</ul>\n<h4 id=\"-camera-modes-\"><code>camera.modes</code></h4>\n<p>An array of modes supported by the camera</p>\n<h4 id=\"-camera-setmode-mode-\"><code>camera.setMode(mode)</code></h4>\n<p>Sets the camera mode</p>\n<ul>\n<li><code>mode</code> is the new mode.  Must be either <code>turntable</code>, <code>orbit</code> or <code>matrix</code></li>\n</ul>\n<h4 id=\"-camera-getmode-\"><code>camera.getMode()</code></h4>\n<p>Retrieves the current camera mode</p>\n<h4 id=\"-camera-lookat-t-eye-center-up-\"><code>camera.lookAt(t, eye, center, up)</code></h4>\n<p>Reset camera position to focus on a specified target</p>\n<ul>\n<li><code>t</code> is the time of the event</li>\n<li><code>eye</code> is the position of the camera</li>\n<li><code>center</code> is the target of the camera</li>\n<li><code>up</code> is a vector pointing up</li>\n</ul>\n<h4 id=\"-camera-rotate-t-yaw-pitch-roll-\"><code>camera.rotate(t, yaw, pitch, roll)</code></h4>\n<p>Rotates the camera incrementally by some amount</p>\n<ul>\n<li><code>t</code> is the time of the input event</li>\n<li><code>yaw</code> is the amount to rotate by along y-axis in radians</li>\n<li><code>pitch</code> is the amount to rotate by along x-axis in radians</li>\n<li><code>roll</code> is the amount to rotate by along z-axis in radians</li>\n</ul>\n<h4 id=\"-camera-pan-t-dx-dy-dz-\"><code>camera.pan(t, dx, dy, dz)</code></h4>\n<p>Pans the camera in local (view relative) coordinates</p>\n<ul>\n<li><code>t</code> is the time of the event</li>\n<li><code>dx,dy,dz</code> is the amount to move</li>\n</ul>\n<h4 id=\"-camera-translate-t-dx-dy-dz-\"><code>camera.translate(t, dx, dy, dz)</code></h4>\n<p>Translates the camera in world (absolute global) coordinates</p>\n<ul>\n<li><code>t</code> is the time of the event</li>\n<li><code>dx,dy,dz</code> is the amount to move</li>\n</ul>\n<h4 id=\"-camera-setmatrix-t-matrix-\"><code>camera.setMatrix(t, matrix)</code></h4>\n<p>Sets the camera matrix to some fixed 4x4 matrix</p>\n<ul>\n<li><code>t</code> is the time of the event</li>\n<li><code>matrix</code> is the new camera matrix</li>\n</ul>\n<h4 id=\"-camera-setdistance-t-r-\"><code>camera.setDistance(t, r)</code></h4>\n<p>Sets camera distance at time <code>t</code></p>\n<ul>\n<li><code>t</code> is the time of the event</li>\n<li><code>r</code> is the new camera distance</li>\n</ul>\n<h4 id=\"-camera-setdistancelimits-lo-hi-\"><code>camera.setDistanceLimits(lo, hi)</code></h4>\n<p>Sets bounds on the camera distance</p>\n<h4 id=\"-camera-getdistancelimits-out-\"><code>camera.getDistanceLimits([out])</code></h4>\n<p>Retrieves the camera limits</p>\n<h4 id=\"-camera-recalcmatrix-t-\"><code>camera.recalcMatrix(t)</code></h4>\n<p>Recomputes all matrix properties at time <code>t</code></p>\n<h4 id=\"-camera-computedmatrix-\"><code>camera.computedMatrix</code></h4>\n<p>The computed 4x4 matrix of the camera</p>\n<h4 id=\"-camera-computedeye-\"><code>camera.computedEye</code></h4>\n<p>The computed 3d eye vector for the camera</p>\n<h4 id=\"-camera-computedup-\"><code>camera.computedUp</code></h4>\n<p>Computed up vector (initialized when calling recalcMatrix)</p>\n<h4 id=\"-camera-computedcenter-\"><code>camera.computedCenter</code></h4>\n<p>Computed camera center point</p>\n<h4 id=\"-camera-computedradius-\"><code>camera.computedRadius</code></h4>\n<p>Computed log(radius)</p>\n<h2 id=\"license\">License</h2>\n<p>(c) 2015 Mikola Lysenko. MIT License</p>\n"}