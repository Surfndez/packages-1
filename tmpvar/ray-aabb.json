{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/tmpvar/ray-aabb\">ray-aabb</a><div class=\"contrib\"></div></h1>\n<p>test if a ray intersects an aabb in 3d space</p>\n<p>Implemented via the techniques described in <a href=\"http://www.cg.cs.tu-bs.de/publications/Eisemann07FRA/\">Fast Ray/Axis-Aligned Bounding Box Overlap Tests using Ray Slopes</a></p>\n<h2 id=\"install\">install</h2>\n<p><code>npm install ray-aabb</code></p>\n<h2 id=\"use\">use</h2>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;createRay&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>ray-aabb</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span class=\"punctuation definition comment js\"><span>/*</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;_______</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;/&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;/|</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;/______/&#xA0;|</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|&#xA0;|_____|_|</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span>(-1,&#xA0;1,&#xA0;0)&#xA0;----&gt;&#xA0;&#xA0;|&#xA0;/&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|&#xA0;/</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|/______|/</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment block js\"><span class=\"punctuation definition comment js\"><span>*/</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;ray_origin&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;ray_direction&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;ray&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;createRay</span><span class=\"meta brace round js\"><span>(</span></span><span>ray_origin</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;ray_direction</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;box&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>2</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>2</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>2</span></span><span class=\"meta brace square js\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>ray</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>intersects</span><span class=\"meta brace round js\"><span>(</span></span><span>box</span><span class=\"meta brace round js\"><span>)</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;outputs:&#xA0;true</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;avoid&#xA0;allocating&#xA0;new&#xA0;memory&#xA0;by&#xA0;reusing&#xA0;rays</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>ray</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>update</span><span class=\"meta brace round js\"><span>(</span></span><span>ray_origin</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>ray</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>intersects</span><span class=\"meta brace round js\"><span>(</span></span><span>box</span><span class=\"meta brace round js\"><span>)</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;outputs:&#xA0;false</span><span>&#xA0;</span></span></span></div>\n</code></pre>\n<h2 id=\"api-surface\">api surface</h2>\n<p>all vec3s specified are arrays in the format: <code>[x, y, z]</code></p>\n<p><code>createRay(ray_origin, ray_direction)</code>&apos;s parameters</p>\n<ul>\n<li><code>ray_origin</code> - a vec3 defining the ray origin</li>\n<li><code>ray_direction</code> - a vec3 defining the ray direction (does not need to be normalized)</li>\n</ul>\n<p><em>returns</em>: a <code>Ray</code> instance</p>\n<hr>\n<p><code>Ray#update(ray_origin, ray_direction)</code></p>\n<p>Allows <code>Ray</code> instances to be reused by precomputing ray classification.  The intention here is that you will be casting a ray against <strong>many</strong> aabbs</p>\n<p><em>returns</em>: <code>this</code> (e.g. <code>ray.update(ro, rd).intersects(box)</code></p>\n<hr>\n<p><code>Ray#intersects(aabb)</code>\nwhere <code>aabb</code> specifies the corners of the bounding box:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"meta brace square js\"><span>[</span><span>[</span></span><span>x1</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;y1</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;z1</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>x2</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;y2</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;z2</span><span class=\"meta brace square js\"><span>]</span><span>]</span></span></span></div>\n</code></pre>\n<p><em>returns</em></p>\n<ul>\n<li><code>true</code> if intersection detected</li>\n<li><code>false</code> if no intersection</li>\n</ul>\n<h2 id=\"platforms\">platforms</h2>\n<p>node, io.js, and evergreen browsers using <a href=\"http://github.com/tmpvar/ray-aabb/blob/master/browserify.io\">browserify</a></p>\n<h2 id=\"license\">license</h2>\n<p><a href=\"http://github.com/tmpvar/ray-aabb/blob/master/LICENSE.txt\">MIT</a></p>\n"}