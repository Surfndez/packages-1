{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/mattdesl/gl-vignette-background\">gl-vignette-background</a><div class=\"contrib\"></div></h1>\n<p><a href=\"http://github.com/badges/stability-badges\"></a></p>\n<p>Creates a soft gradient background with noise, suitable for your sweet WebGL demos!</p>\n<p><img src=\"http://i.imgur.com/IMRLl9D.png\" alt=\"demo\"></p>\n<p>Also see <a href=\"https://github.com/mattdesl/three-vignette-background\">three-vignette-background</a> for a ThreeJS version of this module, with a slightly different API and noise algorithm.</p>\n<h2 id=\"install\">Install</h2>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;gl-vignette-background&#xA0;--save</span></span></div>\n</code></pre>\n<h2 id=\"example\">Example</h2>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;createBackground&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-vignette-background</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;get&#xA0;a&#xA0;WebGL&#xA0;canvas</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;gl&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>webgl-context</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;create&#xA0;your&#xA0;background</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;background&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;createBackground</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"entity name function js\"><span>render</span></span><span>&#xA0;</span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;width&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferWidth</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;height&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawingBufferHeight</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>viewport</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;width</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;height</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>clearColor</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;set&#xA0;some&#xA0;flags&#xA0;before&#xA0;drawing</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>clear</span></span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>COLOR_BUFFER_BIT</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>disable</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>DEPTH_TEST</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>disable</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>CULL_FACE</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;setup&#xA0;some&#xA0;fancy&#xA0;style&#xA0;(optional)</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;radius&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support class js\"><span>Math</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>max</span></span><span class=\"meta brace round js\"><span>(</span></span><span>width</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;height</span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>*</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1.05</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;background</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>style</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;xy&#xA0;scale</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;scale</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>/</span></span><span>&#xA0;width&#xA0;</span><span class=\"keyword operator js\"><span>*</span></span><span>&#xA0;radius</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>/</span></span><span>&#xA0;height&#xA0;</span><span class=\"keyword operator js\"><span>*</span></span><span>&#xA0;radius&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;aspect&#xA0;ratio&#xA0;for&#xA0;vignette</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;aspect</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;radial&#xA0;gradient&#xA0;colors&#xA0;A-&gt;B</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;color1</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;color2</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.5</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.5</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.5</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;smoothstep&#xA0;low/high&#xA0;input</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;smoothing</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>0.5</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1.0</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;%&#xA0;opacity&#xA0;of&#xA0;noise&#xA0;grain&#xA0;(0&#xA0;-&gt;&#xA0;disabled)</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;noiseAlpha</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0.35</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;whether&#xA0;or&#xA0;not&#xA0;the&#xA0;noise&#xA0;is&#xA0;monochromatic</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;coloredNoise</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;offset&#xA0;the&#xA0;vignette</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;offset</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>0.05</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>0.15</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;background</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>draw</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div>\n</code></pre>\n<p>See <a href=\"http://github.com/mattdesl/gl-vignette-background/blob/master/demo/index.js\">demo/index.js</a> for a full-screen example.</p>\n<h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://nodei.co/npm/gl-vignette-background/\"></a></p>\n<h3 id=\"-var-bg-createbackground-gl-style-\"><code>var bg = createBackground(gl [, style])</code></h3>\n<p>Creates a background quad with some default options (bright and soft white gradient in the center, using the current canvas size for aspect ratio).</p>\n<p>You can provide <code>style</code> to override some defaults, e.g:</p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span>bg&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;createBackground</span><span class=\"meta brace round js\"><span>(</span></span><span>gl&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;color1</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<p>See <a href=\"#styling\">styling</a></p>\n<h3 id=\"-bg-style-options-\"><code>bg.style(options)</code></h3>\n<p>Style the background with the given overrides in the specified object. Acts the same as the styling options passed to constructor. </p>\n<h3 id=\"-bg-draw-\"><code>bg.draw()</code></h3>\n<p>Draws the quad.</p>\n<h3 id=\"-bg-dispose-\"><code>bg.dispose()</code></h3>\n<p>Disposes the quad and its shader.</p>\n<h2 id=\"styling\">styling</h2>\n<p>The following options are stylable:</p>\n<ul>\n<li><code>aspect</code>: a float for aspect ratio; typically set whenever the background size changes</li>\n<li><code>smoothing</code>: a vec2 representing the low and high end for the smooth function</li>\n<li><code>noiseAlpha</code>: the opacity of the random noise (set to zero to disable)</li>\n<li><code>coloredNoise</code>: a bool for whether noise is enabled, <code>1</code> for chromatic, <code>0</code> for monochrome</li>\n<li><code>offset</code>: the position vec2 offset, normalized. <code>[0, 0]</code> is center (default), <code>[-0.5, -0.5]</code> will be top left</li>\n<li><code>scale</code>: the vec2 amount to scale the gradient, normalized. default is <code>[1, 1]</code></li>\n<li><code>color1</code>: the first <code>[r, g, b]</code> color in the gradient, default white</li>\n<li><code>color2</code>: the second <code>[r, g, b]</code> color in the gradient, default black</li>\n</ul>\n<h2 id=\"running-the-demo\">running the demo</h2>\n<p>Git clone this repo, run <code>npm install</code>, then <code>npm start</code> and open <code>localhost:9966</code>.</p>\n<h2 id=\"license\">License</h2>\n<p>MIT, see <a href=\"http://github.com/mattdesl/gl-vignette-background/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}