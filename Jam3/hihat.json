{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/Jam3/hihat\">hihat </a><div class=\"contrib\"></div></h1>\n<p><img src=\"http://i.imgur.com/Sqpbjzl.gif\" alt=\"hihat\"></p>\n<blockquote>\n<p>local Node/Browser development with Chrome DevTools</p>\n</blockquote>\n<p>Runs a source file in a Chrome DevTools process. Saving the file will reload the tab. </p>\n<p>This is useful for locally unit testing browser code with the full range of Web APIs (WebGL, WebAudio, etc). It provides access to profiling, debugger statements, network requests, and so forth. </p>\n<p>It can also be used to develop typical Node projects, or as a generic <a href=\"#repl\">Node REPL</a>. For example, instead of using <a href=\"https://www.npmjs.com/package/nodemon\">nodemon</a> during development, you can use <code>hihat</code> to make use of a debugger.</p>\n<p>Since it provides Browser and Node APIs, it can also be used for some simple CLI tooling, like <a href=\"#save-canvas-2d-to-png-image\">saving a Canvas2D to a PNG file</a>.</p>\n<p>Eventually; this may be useful for headless testing of Node/Browser code on a server.</p>\n<p>Under the hood, this uses <a href=\"https://github.com/atom/electron\">electron</a>, <a href=\"https://github.com/substack/node-browserify\">browserify</a> and <a href=\"https://github.com/substack/watchify\">watchify</a>.</p>\n<p>Currently only tested on OSX Yosemite.</p>\n<p><strong>This project is still in active development.</strong></p>\n<h2 id=\"install\">Install</h2>\n<p><a href=\"https://www.npmjs.com/package/hihat\"></a></p>\n<p>This project is currently best suited as a global install. Use <code>npm</code> to install it like so:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;hihat&#xA0;-g</span></span></div>\n</code></pre>\n<h2 id=\"basic-examples\">Basic Examples</h2>\n<p>Simplest case is just to run <code>hihat</code> on any source file that can be browserified (Node/CommonJS).</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;index.js</span></span></div>\n</code></pre>\n<p>Any options after <code>--</code> will be passed to browserify. For example:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span class=\"comment line number-sign shell\"><span class=\"punctuation definition comment shell\"><span>#</span></span><span>&#xA0;transpile&#xA0;ES6&#xA0;files</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;tests/</span><span class=\"keyword operator glob shell\"><span>*</span></span><span>.js&#xA0;--&#xA0;--transform&#xA0;babelify</span></span></div>\n</code></pre>\n<p>You can use <code>--print</code> to redirect <code>console</code> logging into your terminal:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;</span><span class=\"support function builtin shell\"><span>test</span></span><span>.js&#xA0;--print&#xA0;</span><span class=\"keyword operator pipe shell\"><span>|</span></span><span>&#xA0;tap-spec</span></span></div>\n</code></pre>\n<p>The process will stay open until you call <code>window.close()</code> from the client code. Also see the <code>--quit</code> and <code>--timeout</code> options in <a href=\"#usage\">Usage</a>.</p>\n<h2 id=\"usage\">Usage</h2>\n<p>Usage:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;</span><span class=\"meta scope logical-expression shell\"><span class=\"punctuation definition logical-expression shell\"><span>[</span></span><span>entries</span><span class=\"punctuation definition logical-expression shell\"><span>]</span></span></span><span>&#xA0;</span><span class=\"meta scope logical-expression shell\"><span class=\"punctuation definition logical-expression shell\"><span>[</span></span><span>options</span><span class=\"punctuation definition logical-expression shell\"><span>]</span></span></span><span>&#xA0;--&#xA0;</span><span class=\"meta scope logical-expression shell\"><span class=\"punctuation definition logical-expression shell\"><span>[</span></span><span>browserifyOptions</span><span class=\"punctuation definition logical-expression shell\"><span>]</span></span></span></span></div>\n</code></pre>\n<p>Options:</p>\n<ul>\n<li><code>--port</code> (default <code>9541</code>)<ul>\n<li>the port to host the local server on</li>\n</ul>\n</li>\n<li><code>--host</code> (default <code>&apos;localhost&apos;</code>)<ul>\n<li>the host for the local development server</li>\n</ul>\n</li>\n<li><code>--dir</code> (default <code>process.cwd()</code>)<ul>\n<li>the root directory to serve static files from</li>\n</ul>\n</li>\n<li><code>--print</code><ul>\n<li><code>console.log</code> and <code>console.error</code> will print to <code>process.stdout</code> and <code>process.stderr</code></li>\n</ul>\n</li>\n<li><code>--quit</code><ul>\n<li>uncaught errors (like syntax) will cause the application to exit (useful for unit testing)</li>\n</ul>\n</li>\n<li><code>--frame</code> (default <code>&apos;0,0,0,0&apos;</code>)<ul>\n<li>a comma-separated string for <code>x,y,width,height</code> window bounds</li>\n<li>if only two numbers are passed, treated as <code>width,height</code></li>\n<li>if <code>true</code> is passed, uses the native default size</li>\n</ul>\n</li>\n<li><code>--no-devtool</code><ul>\n<li>do not open a DevTools window when running</li>\n</ul>\n</li>\n<li><code>--raw-output</code><ul>\n<li>do not silence Chromium debug logs on stdout/stderr</li>\n</ul>\n</li>\n<li><code>--node</code><ul>\n<li>enables Node integration (see <a href=\"#node\">node</a>)</li>\n</ul>\n</li>\n<li><code>--no-electron-builtins</code><ul>\n<li>when <code>--node</code> is enabled, makes it behave more like Node by ignoring Electron builtins</li>\n</ul>\n</li>\n<li><code>--timeout</code> (default 0)<ul>\n<li>a number, will close the process after this duration. Use 0 for no timeout</li>\n</ul>\n</li>\n<li><code>--exec</code><ul>\n<li>an alias for <code>--print</code>, <code>--no-devtool</code> and <code>--quit</code> options. Useful for headless executions</li>\n</ul>\n</li>\n<li><code>--index=path/to/index.html</code><ul>\n<li>optional <code>index.html</code> file to override the default (see <a href=\"#html-index\">HTML index</a>)</li>\n</ul>\n</li>\n<li><code>--serve</code><ul>\n<li>what to serve your bundle entry point as</li>\n<li>defaults to file name if possible, otherwise &apos;bundle.js&apos;</li>\n</ul>\n</li>\n</ul>\n<p>By default, browserify will use source maps. You can change this with <code>--no-debug</code> as a browserify option:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;</span><span class=\"support function builtin shell\"><span>test</span></span><span>.js&#xA0;--&#xA0;--no-debug</span></span></div>\n</code></pre>\n<h2 id=\"node\">Node</h2>\n<p>hihat can also be used for developing simple Node modules. The <code>--node</code> flag will disable the <code>&quot;browser&quot;</code> field resolution and use actual Node modules for <code>process</code>, <code>Buffer</code>, <code>&quot;os&quot;</code>, etc. It also exposes <code>require</code> statement outside of the bundle, so you can use it in the Chrome Console while developing.</p>\n<p>For example, <code>foobar.js</code></p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;fs&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>fs</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>fs</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>readdir</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"support variable js\"><span>process</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>cwd</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>err</span></span><span class=\"meta object delimiter js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable parameter function js\"><span>files</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span>&#xA0;</span><span class=\"meta brace round js\"><span>(</span></span><span>err</span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"keyword control js\"><span>throw</span></span><span>&#xA0;err</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword other js\"><span>debugger</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>files</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<p>Now we can run the following on our file:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;foobar.js&#xA0;--node</span></span></div>\n</code></pre>\n<p><img src=\"http://i.imgur.com/jZdEcxC.png\" alt=\"screenshot\"></p>\n<p>By default, enabling <code>--node</code> will also enable the Electron builtins. You can pass <code>--no-electron-builtins</code> to disable Electron modules and make the source behave more like Node.</p>\n<h4 id=\"limitations\">Limitations</h4>\n<p>There are some known limitations with this approach.</p>\n<ul>\n<li>Modules that use native addons (like <a href=\"https://github.com/Automattic/node-canvas\">node-canvas</a>) are not supported.</li>\n<li>Unlike a typical Node.js program, you will need to explicitly quit the application with <code>window.close()</code></li>\n<li>Since the source is run through browserify, the initial build time is slow and features like <code>require.resolve</code> are not yet supported. <a href=\"https://github.com/Jam3/hihat/issues/21\">#21</a></li>\n<li>Some features like <code>process.stdin</code> are not possible. <a href=\"https://github.com/Jam3/hihat/issues/12\">#12</a></li>\n<li>Since this runs Electron instead of a plain Node.js runtime, it may produce some unusual results</li>\n</ul>\n<h2 id=\"repl\">REPL</h2>\n<p>If you specify <code>hihat</code> without any entry files, it will not invoke browserify or watchify. For example, you can use this as a generic alternative to the Node REPL, but with better debugging and various Web APIs.</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;--node</span></span></div>\n</code></pre>\n<p>Example:</p>\n<p><img src=\"http://i.imgur.com/Xns0gGT.png\" alt=\"repl\"></p>\n<h2 id=\"html-index\">HTML index</h2>\n<p>By default, hihat will serve a <a href=\"https://www.npmjs.com/package/simple-html-index\">simple HTML <code>index.html</code></a> file. You can use <code>--index</code> for an alternative. The path is relative to your current working directory.</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;</span><span class=\"support function builtin shell\"><span>test</span></span><span>.js&#xA0;--index=foo.html</span></span></div>\n</code></pre>\n<p>And the following <code>foo.html</code>:</p>\n<pre><code class=\"lang-html\"><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag sgml html\"><span class=\"punctuation definition tag html\"><span>&lt;!</span></span><span class=\"meta tag sgml doctype html\"><span>doctype</span><span>&#xA0;html</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag structure any html\"><span>head</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&#xA0;&#xA0;</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>title</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span>FOO</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag inline any html\"><span>title</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&#xA0;&#xA0;</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>meta</span></span><span>&#xA0;</span><span class=\"entity other attribute-name html\"><span>charset</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>utf-8</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&#xA0;&#xA0;</span><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>head</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag structure any html\"><span>body</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;</span><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag script html\"><span>script</span></span><span>&#xA0;</span><span class=\"entity other attribute-name html\"><span>src</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>test.js</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span><span>&lt;/</span></span><span class=\"entity name tag script html\"><span>script</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>body</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>html</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div>\n</code></pre>\n<p>You can also specify a <code>--serve</code> option to force a certain entry point for your bundle. For example:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;</span><span class=\"support function builtin shell\"><span>test</span></span><span>.js&#xA0;--index=foo.html&#xA0;--serve=bundle.js</span></span></div>\n</code></pre>\n<p>With this, your script tag would be:</p>\n<pre><code class=\"lang-html\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>&lt;script&#xA0;src=&quot;bundle.js&quot;&gt;&lt;/script&gt;</span></span></div>\n</code></pre>\n<p>In most cases, <code>--serve</code> will default to the file name of your entry file. In complex cases, such as absolute paths or <code>&apos;.&apos;</code>, it may default to <code>&apos;bundle.js&apos;</code>.</p>\n<h2 id=\"advanced-examples\">Advanced Examples</h2>\n<p>Some more advanced uses of hihat.</p>\n<ul>\n<li><a href=\"http://github.com/Jam3/hihat/blob/master/prettify-tap-in-console\">prettify TAP in console</a></li>\n<li><a href=\"http://github.com/Jam3/hihat/blob/master/write-clipboard-to-stdout\">write clipboard to <code>stdout</code></a></li>\n<li><a href=\"http://github.com/Jam3/hihat/blob/master/save-canvas-2d-to-png-image\">save Canvas 2D to PNG image</a></li>\n</ul>\n<h4 id=\"prettify-tap-in-console\">prettify TAP in console</h4>\n<p>You can use the browserify plugin <a href=\"https://github.com/Jam3/tap-dev-tool\">tap-dev-tool</a> to pretty-print TAP output in the console.</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span class=\"comment line number-sign shell\"><span class=\"punctuation definition comment shell\"><span>#</span></span><span>&#xA0;install&#xA0;it&#xA0;locally</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;tap-dev-tool&#xA0;--save-dev</span></span></div><div class=\"line\"><span class=\"source shell\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source shell\"><span class=\"comment line number-sign shell\"><span class=\"punctuation definition comment shell\"><span>#</span></span><span>&#xA0;now&#xA0;run&#xA0;it&#xA0;as&#xA0;a&#xA0;plugin</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;</span><span class=\"support function builtin shell\"><span>test</span></span><span>.js&#xA0;--&#xA0;-p&#xA0;tap-dev-tool</span></span></div>\n</code></pre>\n<p>Files that use <a href=\"https://www.npmjs.com/package/tap\">tap</a> or <a href=\"https://www.npmjs.com/package/tape\">tape</a> will be logged like so:</p>\n<p><img src=\"http://i.imgur.com/LS014oR.png\" alt=\"tap-dev-tool\"></p>\n<h4 id=\"write-clipboard-to-stdout-\">write clipboard to <code>stdout</code></h4>\n<p>Using the <code>clipboard</code> module in Electron, we can write it to stdout like so.</p>\n<p><code>paste.js</code>:</p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;clipboard&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>clipboard</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support variable js\"><span>process</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>stdout</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>write</span></span><span class=\"meta brace round js\"><span>(</span></span><span>clipboard</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>readText</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>+</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span class=\"constant character escape js\"><span>\\n</span></span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support class js\"><span>window</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>close</span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span></span></div>\n</code></pre>\n<p>Then run:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;paste.js&#xA0;--node&#xA0;--exec&#xA0;</span><span class=\"keyword operator redirect shell\"><span>&gt;</span></span><span>&#xA0;clipboard.txt</span></span></div>\n</code></pre>\n<p>This will write the clipboard contents to a new file, <code>clipboard.txt</code>.</p>\n<h4 id=\"save-canvas-2d-to-png-image\">save Canvas 2D to PNG image</h4>\n<p>Here is an example which writes a Canvas2D element into a new PNG image, using <a href=\"https://github.com/mattdesl/electron-canvas-to-buffer\">electron-canvas-to-buffer</a>.</p>\n<p><code>render.js</code></p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;toBuffer&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>electron-canvas-to-buffer</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;canvas&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support class js\"><span>document</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>createElement</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>canvas</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;context&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;canvas</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>getContext</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>2d</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;width&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;canvas</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant dom js\"><span>width</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;height&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;canvas</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant dom js\"><span>height</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;gradient&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;context</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>createLinearGradient</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;width</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gradient</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>addColorStop</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>#f39821</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gradient</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>addColorStop</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>#f321b0</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>context</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>fillStyle&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;gradient</span></span></div><div class=\"line\"><span class=\"source js\"><span>context</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>fillRect</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;width</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;height</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support variable js\"><span>process</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>stdout</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>write</span></span><span class=\"meta brace round js\"><span>(</span></span><span>toBuffer</span><span class=\"meta brace round js\"><span>(</span></span><span>canvas</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>image/png</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support class js\"><span>window</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>close</span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span></span></div>\n</code></pre>\n<p>Now run the following:</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>hihat&#xA0;render.js&#xA0;--node&#xA0;--exec&#xA0;</span><span class=\"keyword operator redirect shell\"><span>&gt;</span></span><span>&#xA0;image.png</span></span></div>\n</code></pre>\n<p>And the result of <code>image.png</code> will be:</p>\n<p><img src=\"http://i.imgur.com/whDkS67.png\" alt=\"image\"></p>\n<h2 id=\"license\">License</h2>\n<p>MIT, see <a href=\"http://github.com/Jam3/hihat/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}