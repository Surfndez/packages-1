{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/Jam3/parse-dds\">parse-dds</a><div class=\"contrib\"></div></h1>\n<p><a href=\"http://github.com/badges/stability-badges\"></a></p>\n<p>Parses DDS texture headers in Node and the browser. </p>\n<p>This was adapted from <a href=\"https://twitter.com/Tojiro\">@toji</a>&apos;s wonderful <a href=\"https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\">webgl-texture-utils</a>. </p>\n<p>Currently this only supports a limited range of common DDS formats: </p>\n<ul>\n<li>DXT1 (RGB)</li>\n<li>DXT3 (RGBA)</li>\n<li>DXT5 (RGBA)</li>\n<li>Cubemaps (RGBA32f) - like those from <a href=\"https://github.com/dariomanesku/cmft\">cmft</a> and <a href=\"https://seblagarde.wordpress.com/2012/06/10/amd-cubemapgen-for-physically-based-rendering/\">Modified AMD Cubemapgen</a></li>\n</ul>\n<p>See <a href=\"http://github.com/Jam3/parse-dds/blob/master/test/index.js\">test/index.js</a> for an example in Node, or <a href=\"http://github.com/Jam3/parse-dds/blob/master/demo/index.js\">demo/index.js</a> for a WebGL compressed texture example.</p>\n<p>Pull requests welcome.</p>\n<h2 id=\"example\">Example</h2>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;parse&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>parse-dds</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;buffer&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>Uint8Array</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"keyword operator spread js\"><span>...</span></span><span>&#xA0;</span><span class=\"constant other js\"><span>DDS</span></span><span>&#xA0;file&#xA0;</span><span class=\"keyword operator spread js\"><span>...</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;dds&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>parse</span></span><span class=\"meta brace round js\"><span>(</span></span><span>buffer</span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>log</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"variable other object js\"><span>dds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>format</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&apos;dxt1&apos;</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>log</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"variable other object js\"><span>dds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support constant dom js\"><span>shape</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;[&#xA0;width,&#xA0;height&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>log</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"variable other object js\"><span>dds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support constant dom js\"><span>images</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;[&#xA0;...&#xA0;mipmap&#xA0;level&#xA0;data&#xA0;...&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;get&#xA0;the&#xA0;compressed&#xA0;texture&#xA0;data&#xA0;for&#xA0;gl.compressedTexImage2D</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;image&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"variable other object js\"><span>dds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support constant dom js\"><span>images</span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;texture&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>Uint8Array</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>buffer</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable other object js\"><span>image</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>offset</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable other object js\"><span>image</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support constant js\"><span>length</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<h2 id=\"install\">Install</h2>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;parse-dds&#xA0;--save-dev</span></span></div>\n</code></pre>\n<h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://www.npmjs.com/package/parse-dds\"></a></p>\n<h4 id=\"-dds-parse-arraybuffer-\"><code>dds = parse(arrayBuffer)</code></h4>\n<p>Parses an ArrayBuffer and returns the DDS headers for that file.</p>\n<p>The returned values:</p>\n<ul>\n<li><code>shape</code> an array representing the <code>[ width, height ]</code> of the texture</li>\n<li><code>flags</code> the DDS bit flags stored in the file</li>\n<li><code>format</code> a string, either <code>&apos;dxt1&apos;</code>, <code>&apos;dxt3&apos;</code>, <code>&apos;dxt5&apos;</code> or <code>&apos;rgba32f&apos;</code></li>\n<li><code>images</code> a list of information to extract sub-arrays for each mipmap level</li>\n<li><code>cubemap</code> a boolean indicating whether the file contains a cubemap image</li>\n</ul>\n<p>Each image has the form:</p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;shape</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span>&#xA0;width</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;height&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;size&#xA0;of&#xA0;this&#xA0;mipmap&#xA0;level</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;offset</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;x</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;byte&#xA0;offset&#xA0;into&#xA0;the&#xA0;input&#xA0;buffer</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;length</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;len</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;length&#xA0;of&#xA0;this&#xA0;mipmap&#xA0;level&#xA0;image&#xA0;data</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div>\n</code></pre>\n<h2 id=\"see-also\">See Also</h2>\n<ul>\n<li><a href=\"https://github.com/Jam3/preview-dds\">preview-dds</a> for loading and previewing DDS files</li>\n</ul>\n<h2 id=\"license\">License</h2>\n<p>MIT, see <a href=\"http://github.com/Jam3/parse-dds/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}