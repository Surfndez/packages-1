<h1 id="ray-aabb"><a target="_blank" href="http://github.com/tmpvar/ray-aabb">ray-aabb</a></h1>
<p>test if a ray intersects an aabb in 3d space</p>
<p>Implemented via the techniques described in <a href="http://www.cg.cs.tu-bs.de/publications/Eisemann07FRA/">Fast Ray/Axis-Aligned Bounding Box Overlap Tests using Ray Slopes</a></p>
<h2 id="install">install</h2>
<p><code>npm install ray-aabb</code></p>
<h2 id="use">use</h2>
<pre><code class="lang-javascript"><span class="kd">var</span> <span class="nx">createRay</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;ray-aabb&apos;</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm">                     _______</span>
<span class="cm">                    /      /|</span>
<span class="cm">                   /______/ |</span>
<span class="cm">                  | |_____|_|</span>
<span class="cm">(-1, 1, 0) ----&gt;  | /     | /</span>
<span class="cm">                  |/______|/</span>
<span class="cm">*/</span>

<span class="kd">var</span> <span class="nx">ray_origin</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">ray_direction</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">ray</span> <span class="o">=</span> <span class="nx">createRay</span><span class="p">(</span><span class="nx">ray_origin</span><span class="p">,</span> <span class="nx">ray_direction</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">box</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">];</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ray</span><span class="p">.</span><span class="nx">intersects</span><span class="p">(</span><span class="nx">box</span><span class="p">));</span>
<span class="c1">// outputs: true</span>

<span class="c1">// avoid allocating new memory by reusing rays</span>
<span class="nx">ray</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">ray_origin</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ray</span><span class="p">.</span><span class="nx">intersects</span><span class="p">(</span><span class="nx">box</span><span class="p">));</span>
<span class="c1">// outputs: false</span>
</code></pre>
<h2 id="api-surface">api surface</h2>
<p>all vec3s specified are arrays in the format: <code>[x, y, z]</code></p>
<p><code>createRay(ray_origin, ray_direction)</code>&apos;s parameters</p>
<ul>
<li><code>ray_origin</code> - a vec3 defining the ray origin</li>
<li><code>ray_direction</code> - a vec3 defining the ray direction (does not need to be normalized)</li>
</ul>
<p><em>returns</em>: a <code>Ray</code> instance</p>
<hr>
<p><code>Ray#update(ray_origin, ray_direction)</code></p>
<p>Allows <code>Ray</code> instances to be reused by precomputing ray classification.  The intention here is that you will be casting a ray against <strong>many</strong> aabbs</p>
<p><em>returns</em>: <code>this</code> (e.g. <code>ray.update(ro, rd).intersects(box)</code></p>
<hr>
<p><code>Ray#intersects(aabb)</code>
where <code>aabb</code> specifies the corners of the bounding box:</p>
<pre><code class="lang-javascript"><span class="p">[[</span><span class="nx">x1</span><span class="p">,</span> <span class="nx">y1</span><span class="p">,</span> <span class="nx">z1</span><span class="p">],</span> <span class="p">[</span><span class="nx">x2</span><span class="p">,</span> <span class="nx">y2</span><span class="p">,</span> <span class="nx">z2</span><span class="p">]]</span>
</code></pre>
<p><em>returns</em></p>
<ul>
<li><code>true</code> if intersection detected</li>
<li><code>false</code> if no intersection</li>
</ul>
<h2 id="platforms">platforms</h2>
<p>node, io.js, and evergreen browsers using <a href="browserify.io">browserify</a></p>
<h2 id="license">license</h2>
<p><a href="LICENSE.txt">MIT</a></p>
