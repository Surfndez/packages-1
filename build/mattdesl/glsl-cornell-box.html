<h1 id="glsl-cornell-box"><a target="_blank" href="http://github.com/mattdesl/glsl-cornell-box">glsl-cornell-box</a></h1>
<p><a href="http://github.com/badges/stability-badges"></a></p>
<p><img src="http://i.imgur.com/wX030Ti.png" alt="cornell"></p>
<p><a href="http://glslb.in/s/32a06a02">(glsl bin demo)</a></p>
<p>The Cornell Box raymarched in GLSL, for testing purposes. <a href="https://www.shadertoy.com/view/4ssGzS">Credit to @h3r3</a>. </p>
<pre><code class="lang-glsl"><span class="k">precision</span> <span class="k">highp</span> <span class="k">float</span><span class="p">;</span>

<span class="k">uniform</span> <span class="k">vec2</span> <span class="n">iResolution</span><span class="p">;</span>
<span class="k">uniform</span> <span class="k">float</span> <span class="n">iGlobalTime</span><span class="p">;</span>

<span class="cp">#pragma glslify: cornell = require(&apos;glsl-cornell-box&apos;)</span>
<span class="cp">#pragma glslify: camera = require(&apos;glsl-turntable-camera&apos;)</span>

<span class="k">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">vec3</span> <span class="n">ro</span><span class="p">,</span> <span class="n">rd</span><span class="p">;</span>
  <span class="k">float</span> <span class="n">anim</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">iGlobalTime</span><span class="p">);</span>
  <span class="k">float</span> <span class="n">rot</span> <span class="o">=</span> <span class="n">anim</span><span class="o">*</span><span class="mf">0.1</span><span class="p">;</span>
  <span class="k">float</span> <span class="n">angle</span> <span class="o">=</span> <span class="n">anim</span><span class="o">*</span><span class="mf">0.25</span><span class="p">;</span>
  <span class="k">float</span> <span class="n">dist</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">;</span>
  <span class="n">camera</span><span class="p">(</span><span class="n">rot</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">dist</span><span class="p">,</span> <span class="n">iResolution</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">ro</span><span class="p">,</span> <span class="n">rd</span><span class="p">);</span>

  <span class="n">gl_FragColor</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span> <span class="n">cornell</span><span class="p">(</span><span class="n">ro</span><span class="p">,</span> <span class="n">rd</span><span class="p">);</span>
  <span class="n">gl_FragColor</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre>
<p>You will not be able to rotate around it fully as the back-side of each face will be black (unlit). PRs welcome.</p>
<p><em>Note:</em> You should use <code>highp</code> precision in your shaders to support mobile and low-end GPUs.</p>
<h2 id="usage">Usage</h2>
<p><a href="https://www.npmjs.com/package/glsl-cornell-box"></a></p>
<h5 id="-vec3-cornellbox-vec3-ro-vec3-rd-"><code>vec3 cornellBox(vec3 ro, vec3 rd)</code></h5>
<p>Raymarches a cornell box where <code>ro</code> is &quot;ray origin&quot; and <code>rd</code> is &quot;ray direction.&quot; Returns the RGB colors of the scene. The colors are <em>not</em> clamped to <code>0.0 .. 1.0</code> range; this allows for bloom and other HDR effects.</p>
<h2 id="license">License</h2>
<p>License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.</p>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Details</a></p>
