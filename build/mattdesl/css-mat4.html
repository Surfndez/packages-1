<h1 id="css-mat4"><a target="_blank" href="http://github.com/mattdesl/css-mat4">css-mat4</a></h1>
<p><a href="http://github.com/badges/stability-badges"></a></p>
<p>Build a 4x4 matrix from 3D rotation, translation, scale and 2D skew according to the <a href="http://www.w3.org/TR/css3-transforms">CSS3 transforms spec</a>. </p>
<pre><code class="lang-js"><span class="kd">var</span> <span class="nx">compose</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;css-mat4&apos;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">matrix</span> <span class="o">=</span> <span class="nx">compose</span><span class="p">([],</span> <span class="p">{</span>
    <span class="nx">translate</span><span class="o">:</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span>
    <span class="nx">rotate</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">],</span>
    <span class="nx">scale</span><span class="o">:</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
    <span class="nx">skewX</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
    <span class="nx">skewY</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span>
<span class="p">})</span>

<span class="c1">//now you can do something with the 16-float matrix array...</span>
</code></pre>
<p>Components default to zero (or one in the case of <code>scale</code>) to allow for 2D vectors:</p>
<pre><code class="lang-js"><span class="nx">compose</span><span class="p">(</span><span class="nx">out</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">translate</span><span class="o">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
    <span class="nx">scale</span><span class="o">:</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>
<h2 id="usage">Usage</h2>
<p><a href="https://www.npmjs.com/package/css-mat4"></a></p>
<h4 id="-matrix-compose-out-opt-"><code>matrix = compose(out[, opt])</code></h4>
<p>Composes a matrix from the given components, storing the result in <code>out</code> and returning it. If <code>opt</code> is not specified, an identity matrix is returned.</p>
<p>The options:</p>
<ul>
<li><code>translate</code> an array of <code>[x, y]</code> or <code>[x, y, z]</code> in pixels</li>
<li><code>rotate</code> an array of <code>[x, y, z]</code> in radians</li>
<li><code>scale</code> an array of <code>[x, y]</code> or <code>[x, y, z]</code> (z component defaults to 1)</li>
<li><code>quaternion</code> can be specified if <code>rotate</code> is undefined; it&apos;s an array of <code>[x, y, z, w]</code> components</li>
<li><code>skew</code> an array of <code>[x, y]</code> in radians, akin to the CSS skew(x,y) operation, which applies the skew together</li>
<li><code>skewX</code>, <code>skewY</code> numbers in radians, allowing the skews to be applied independently</li>
</ul>
<p>The order of operations: </p>
<p>Builds a translation matrix, then applies the quaternion rotation. The matrix is then multiplied a 2D skew(x,y) matrix, and then multiplied by the independent X and Y skew matrices. Finally multiplied by scale to get the resulting recomposed matrix.</p>
<h2 id="license">License</h2>
<p>MIT, see <a href="http://github.com/mattdesl/css-mat4/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>
