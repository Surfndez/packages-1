<h1 id="mat4-interpolator">mat4-interpolator</h1>
<p><a href="http://github.com/badges/stability-badges"></a></p>
<p>Builds an interpolator that acts on two 4x4 matrices, using algorithms from <a href="http://www.w3.org/TR/css3-transforms/#matrix-interpolation">W3C Spec</a> to produce consistent results with CSS animations. Translation, scale, skew and perspective are interpolated linearly, and rotation is interpolated with spherical interpolation.</p>
<pre><code class="lang-js"><span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">mat4</span><span class="p">.</span><span class="nx">create</span><span class="p">()</span>
<span class="kd">var</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">mat4</span><span class="p">.</span><span class="nx">fromRotationTranslation</span><span class="p">([],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">])</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">mat4</span><span class="p">.</span><span class="nx">create</span><span class="p">()</span>

<span class="c1">//create the interpolator</span>
<span class="kd">var</span> <span class="nx">lerp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;mat4-interpolator&apos;</span><span class="p">)(</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lerp</span><span class="p">)</span> <span class="p">{</span> 
    <span class="c1">//returns false is the matrices cannot be inverted</span>
    <span class="c1">//in this case you need to fall back to your own animation method</span>
    <span class="nx">lerp</span> <span class="o">=</span> <span class="nx">discreteAnimator</span>
<span class="p">}</span>

<span class="c1">//.. in your render loop</span>
<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//interpolate based on alpha, storing results in &apos;out&apos; matrix</span>
    <span class="nx">lerp</span><span class="p">(</span><span class="nx">out</span><span class="p">,</span> <span class="nx">alpha</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<p><strong>Note:</strong> <a href="https://www.npmjs.com/package/mat4-interpolate">mat4-interpolate</a> is recommended for most use cases, but this module may be useful to avoid decomposing static matrices every frame.</p>
<p>You can run the demo on RequireBin:</p>
<p><a href="http://requirebin.com/?gist=1347c3e7fd430a191545">http://requirebin.com/?gist=1347c3e7fd430a191545</a></p>
<h2 id="usage">Usage</h2>
<p><a href="https://nodei.co/npm/mat4-interpolator/"></a></p>
<h4 id="-lerp-createinterpolator-start-end-"><code>lerp = createInterpolator(start, end)</code></h4>
<p>Creates an interpolator function that acts on the target start and end matrices. This will decompose the two matrices into components. If either matrix is non-invertible (i.e. scale or perspective W of zero), this method returns <code>false</code>. W3C suggests falling back to discrete animations in this case.</p>
<h4 id="-lerp-out-alpha-"><code>lerp(out, alpha)</code></h4>
<p>The returned function accepts an <code>out</code> matrix for storing the interpolated results, and an <code>alpha</code> for how much to interpolate. </p>
<p>Returns the <code>out</code> matrix.</p>
<h2 id="license">License</h2>
<p>MIT, see <a href="http://github.com/mattdesl/mat4-interpolator/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>
