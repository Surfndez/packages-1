<h1 id="glsl-camera-ray"><a target="_blank" href="http://github.com/stackgl/glsl-camera-ray">glsl-camera-ray</a></h1>
<p><a href="http://github.com/badges/stability-badges"></a></p>
<p>Generates a ray for <a href="http://shadertoy.com">Shadertoy</a>-style raycasting in GLSL.
Accepts either either a camera origin/target or an arbitrary <code>mat3</code> matrix.</p>
<iframe scrolling="no" seamless="seamless" src="http://stack.gl/glsl-camera-ray/"></iframe><h2 id="usage">Usage</h2>
<p><a href="https://nodei.co/npm/glsl-camera-ray/"></a></p>
<h3 id="-vec3-cameraray-vec3-ro-vec3-ta-vec2-screen-float-lens-"><code>vec3 cameraRay(vec3 ro, vec3 ta, vec2 screen, float lens)</code></h3>
<ul>
<li><code>vec3 ro</code> is the position of the camera.</li>
<li><code>vec3 ta</code> is the position the camera is pointing towards.</li>
<li><code>vec2 screen</code> is the position of the fragment on the screen, generally between -1 and 1. For non-square frames you&apos;ll want to normalize this using something like <a href="http://github.com/hughsk/glsl-square-frame">glsl-square-frame</a></li>
<li><code>lens</code> is the lens length of the camera. This works
similarly to FOV, where <code>0.0</code> is horribly wide and <code>2.0</code>
is a decent default.</li>
</ul>
<pre><code class="lang-glsl"><span class="cp">#pragma glslify: square = require(&apos;glsl-square-frame&apos;)</span>
<span class="cp">#pragma glslify: camera = require(&apos;glsl-camera-ray&apos;)</span>

<span class="k">uniform</span> <span class="k">vec2</span>  <span class="n">iResolution</span><span class="p">;</span>
<span class="k">uniform</span> <span class="k">float</span> <span class="n">iGlobalTime</span><span class="p">;</span>

<span class="k">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Bootstrap a Shadertoy-style raytracing scene:</span>
  <span class="k">float</span> <span class="n">cameraAngle</span>  <span class="o">=</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="n">iGlobalTime</span><span class="p">;</span>
  <span class="k">vec3</span>  <span class="n">rayOrigin</span>    <span class="o">=</span> <span class="k">vec3</span><span class="p">(</span><span class="mf">3.5</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">cameraAngle</span><span class="p">),</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.5</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">cameraAngle</span><span class="p">));</span>
  <span class="k">vec3</span>  <span class="n">rayTarget</span>    <span class="o">=</span> <span class="k">vec3</span><span class="p">(</span><span class="mo">0</span><span class="p">,</span> <span class="mo">0</span><span class="p">,</span> <span class="mo">0</span><span class="p">);</span>
  <span class="k">vec2</span>  <span class="n">screenPos</span>    <span class="o">=</span> <span class="n">square</span><span class="p">(</span><span class="n">iResolution</span><span class="p">.</span><span class="n">xy</span><span class="p">);</span>
  <span class="k">float</span> <span class="n">lensLength</span>   <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span>

  <span class="k">vec3</span>  <span class="n">rayDirection</span> <span class="o">=</span> <span class="n">camera</span><span class="p">(</span><span class="n">rayOrigin</span><span class="p">,</span> <span class="n">rayTarget</span><span class="p">,</span> <span class="n">screenPos</span><span class="p">,</span> <span class="n">lensLength</span><span class="p">);</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre>
<h3 id="-vec3-cameraray-mat3-camera-vec2-screen-float-lens-"><code>vec3 cameraRay(mat3 camera, vec2 screen, float lens)</code></h3>
<p>For more flexibility, you can supply <code>mat3 camera</code> in place
of <code>vec3 ro, vec3 ta</code>. This way, you can use your own camera
modules alongside <code>glsl-camera-ray</code>.</p>
<h2 id="contributing">Contributing</h2>
<p>See <a href="https://github.com/stackgl/contributing">stackgl/contributing</a> for details.</p>
<h2 id="license">License</h2>
<p>MIT. See <a href="http://github.com/stackgl/glsl-camera-ray/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>
