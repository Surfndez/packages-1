<h1 id="gl-compare-experimental-http-badges-github-io-stability-badges-dist-experimental-svg-http-github-com-badges-stability-badges-"><a target="_blank" href="http://github.com/stackgl/gl-compare">gl-compare <a href="http://github.com/badges/stability-badges"></a></a></h1>
<p>Visually compare two WebGL render loops on the fly by drawing them to an FBO
and diffing them with shaders.</p>
<p><iframe scrolling="no" seamless="seamless" src="http://stack.gl/gl-compare/"></iframe></p>
<h2 id="usage">Usage</h2>
<p><a href="https://nodei.co/npm/gl-compare/"></a></p>
<h3 id="comparison-compare-gl-actual-expected-">comparison = compare(gl, actual, expected)</h3>
<p>Creates a comparison renderer.</p>
<ul>
<li><code>gl</code> is the WebGL context.</li>
<li><code>actual(fbo)</code> is the first render loop to run.</li>
<li><code>expected(fbo)</code> is the second render loop to run.</li>
</ul>
<p>Note that these are both running within the same context &#x2013; generally, this won&apos;t
be a problem if you&apos;re cleaning up after yourself, but keep that in mind. Also
note that instead of using:</p>
<pre><code class="lang-javascript"><span class="nx">gl</span><span class="p">.</span><span class="nx">bindFramebuffer</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">FRAMEBUFFER</span><span class="p">,</span> <span class="kc">null</span><span class="p">)</span>
</code></pre>
<p>You should use:</p>
<pre><code class="lang-javascript"><span class="nx">fbo</span><span class="p">.</span><span class="nx">bind</span><span class="p">()</span>
</code></pre>
<p>Where <code>fbo</code> is the first argument passed to the render loop. If you&apos;d like to
resize your FBOs to match the size of the canvas:</p>
<pre><code class="lang-javascript"><span class="kd">function</span> <span class="nx">actual</span><span class="p">(</span><span class="nx">fbo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">fbo</span><span class="p">.</span><span class="nx">shape</span> <span class="o">=</span> <span class="p">[</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">]</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">expected</span><span class="p">(</span><span class="nx">fbo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">fbo</span><span class="p">.</span><span class="nx">shape</span> <span class="o">=</span> <span class="p">[</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>
<h3 id="comparison-run-">comparison.run()</h3>
<p>Renders the <code>actual</code> and <code>expected</code> loops to their respective FBOs. Should be
called before you call <code>comparison.render</code>.</p>
<h3 id="comparison-render-">comparison.render()</h3>
<p>Renders the comparison to your screen.</p>
<h3 id="comparison-mode">comparison.mode</h3>
<p>The mode of comparison &#x2013; may be set to one of the following:</p>
<ul>
<li><code>diff</code>: RGB color difference.</li>
<li><code>onion</code>: blending between <code>actual</code> and <code>expected</code>.</li>
<li><code>slide</code>: a slider that divides <code>actual</code> and <code>expected</code>.</li>
</ul>
<h3 id="comparison-amount">comparison.amount</h3>
<p>Used to vary the amount of diffing to do for each mode, and can be any value
between 0 and 1. Has the following effects:</p>
<ul>
<li><code>diff</code>: 0 will amplify <em>any</em> difference considerably, whereas 1 will dull the
difference to only show the most significant changes.</li>
<li><code>onion</code>: 0 will display <code>expected</code>, 1 will display <code>actual</code>, and any values
in between will be a mixture of both.</li>
<li><code>slide</code>: 0 will display <code>expected</code>, 1 will display <code>actual</code>, and any values
in between will move the slider from the left of the buffer to the right.</li>
</ul>
<h2 id="license">License</h2>
<p>MIT. See <a href="http://github.com/gl-modules/gl-compare/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>
