<h1 id="greedy-mesher">greedy-mesher</h1>
<p>A flexible system for generating <a href="http://0fps.wordpress.com/2012/07/07/meshing-minecraft-part-2/">greedy meshes</a> of <a href="https://github.com/mikolalysenko/ndarray">ndarrays</a>.</p>
<h2 id="example">Example</h2>
<pre><code class="lang-javascript"><span class="kd">var</span> <span class="nx">compileMesher</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;greedy-mesher&quot;</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">mesher</span> <span class="o">=</span> <span class="nx">compileMesher</span><span class="p">({</span>
  <span class="nx">extraArgs</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">order</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
  <span class="nx">append</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lo_x</span><span class="p">,</span> <span class="nx">lo_y</span><span class="p">,</span> <span class="nx">hi_x</span><span class="p">,</span> <span class="nx">hi_y</span><span class="p">,</span> <span class="nx">val</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">([[</span><span class="nx">lo_x</span><span class="p">,</span> <span class="nx">lo_y</span><span class="p">],</span> <span class="p">[</span><span class="nx">hi_x</span><span class="p">,</span> <span class="nx">hi_y</span><span class="p">]])</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="kd">var</span> <span class="nx">test_array</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ndarray-pack&quot;</span><span class="p">)(</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>

<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nx">mesher</span><span class="p">(</span><span class="nx">test_array</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> 
<span class="c1">// outputs: [ [ [ 1, 0 ], [ 2, 1 ] ], [ [ 1, 1 ], [ 3, 3 ] ] ]</span>
</code></pre>
<h2 id="install">Install</h2>
<pre><code>npm install greedy-mesher
</code></pre><h3 id="-require-greedy-mesher-options-"><code>require(&quot;greedy-mesher&quot;)(options)</code></h3>
<p>This routine generates a greedy mesher for a given order and list of closures</p>
<ul>
<li><code>order</code> An array representing the order in which to mesh the input.</li>
<li><code>extraArgs</code> The number of optional arguments to pass to each closure.</li>
<li><code>skip(a,...)</code> A closure which tests if the given voxel should be skipped.  (Default: skips 0)</li>
<li><code>merge(a,b,...)</code> A closure which tests if voxels a and b can be merged in the mesh.  (Default: checks if voxels are equal)</li>
<li><code>append(lo0, lo1, ..., lon, hi0, hi1, ..., hin, val, ...)</code></li>
<li><code>useGetter</code> if set, use <code>.get()</code> to access underlying data store</li>
<li><code>debug</code> If set, print out the generated source code to the console</li>
</ul>
<p><strong>Returns</strong> A compiled mesh generator.  Call this method using:</p>
<pre><code class="lang-javascript"><span class="kd">var</span> <span class="nx">my_mesh</span> <span class="o">=</span> <span class="nx">mesher</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">option1</span><span class="p">,</span> <span class="nx">option2</span><span class="p">,</span> <span class="p">...)</span>
</code></pre>
<h2 id="credits">Credits</h2>
<p>(c) 2013 Mikola Lysenko. MIT License</p>
