<h1 id="ray-3d"><a target="_blank" href="http://github.com/Jam3/ray-3d">ray-3d</a></h1>
<p><a href="http://github.com/badges/stability-badges"></a></p>
<p>A high-level ray picking helper for 3D intersection, built from modular pieces.</p>
<pre><code class="lang-js"><span class="kd">var</span> <span class="nx">Ray</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;ray-3d&apos;</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">ray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ray</span><span class="p">(</span><span class="nx">origin</span><span class="p">,</span> <span class="nx">direction</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">ray</span><span class="p">.</span><span class="nx">intersectsSphere</span><span class="p">(</span><span class="nx">center</span><span class="p">,</span> <span class="nx">radius</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Hit a sphere!&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<p>Features:</p>
<ul>
<li><code>intersectsSphere</code></li>
<li><code>intersectsPlane</code></li>
<li><code>intersectsTriangle</code></li>
<li><code>intersectsTriangleCell</code></li>
</ul>
<p>The API is still experimental, and missing some features:</p>
<ul>
<li><code>ray-ray-intersection</code></li>
<li><code>ray-mesh-intersection</code> (simplicial complex)</li>
<li><code>ray-box-intersection</code></li>
</ul>
<h2 id="usage">Usage</h2>
<p><a href="https://www.npmjs.com/package/ray-3d"></a></p>
<h4 id="-ray-new-ray-origin-direction-"><code>ray = new Ray([origin, direction])</code></h4>
<p>Creates a new <code>Ray</code> with optional <code>origin</code> and <code>direction</code>, both arrays in the form <code>[x, y, z]</code>. </p>
<p><code>origin</code> defaults to <code>[0, 0, 0]</code> and <code>direction</code> defaults to <code>[0, 0, -1]</code>.</p>
<h4 id="-ray-set-origin-direction-"><code>ray.set(origin, direction)</code></h4>
<p>Assigns this ray&apos;s <code>origin</code> and <code>direction</code> to the given values.</p>
<h4 id="-ray-copy-otherray-"><code>ray.copy(otherRay)</code></h4>
<p>Copies the <code>origin</code> and <code>direction</code> from the <code>otherRay</code> into this ray.</p>
<h4 id="-otherray-ray-clone-"><code>otherRay = ray.clone()</code></h4>
<p>Deep clones this ray into a new <code>Ray</code> instance.</p>
<hr>
<h3 id="intersections">intersections</h3>
<p>All intersection methods return the collision point <code>[x, y, z]</code> if one occurred, which is re-used across calls to avoid GC thrashing. </p>
<p>If no collision occurred, the methods return <code>null</code>.</p>
<h4 id="-ray-intersectsplane-normal-distance-"><code>ray.intersectsPlane(normal, distance)</code></h4>
<p>Whether this ray intersects the plane with the unit <code>normal</code> [x, y, z] and <code>distance</code> from origin.</p>
<h4 id="-ray-intersectssphere-center-radius-"><code>ray.intersectsSphere(center, radius)</code></h4>
<p>Whether this ray intersects with the sphere at <code>center</code> [x, y, z] and <code>radius</code>.</p>
<h4 id="-ray-intersectstriangle-triangle-"><code>ray.intersectsTriangle(triangle)</code></h4>
<p>Whether this ray intersects with the <code>triangle</code>:</p>
<pre><code>[ [x1, y1, z1], [x2, y2, z2], [x3, y3, z3] ]
</code></pre><h4 id="-ray-intersectstrianglecell-cell-positions-"><code>ray.intersectsTriangleCell(cell, positions)</code></h4>
<p>Whether this ray intersects with the triangle cell, where <code>cell</code> is a face like so:</p>
<pre><code>[ a, b, c ]
</code></pre><p>Where <code>[ a, b, c ]</code> are indices into the <code>positions</code> array:</p>
<pre><code>[ [x1, y1, z1], [x2, y2, z2] ... ]
</code></pre><p>This is useful for indexed meshes and simplicial complexes like <a href="https://www.npmjs.com/package/icosphere">icosphere</a>.</p>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="https://www.npmjs.com/package/camera-unproject">camera-unproject</a></li>
<li><a href="https://www.npmjs.com/package/camera-project">camera-project</a></li>
<li><a href="https://www.npmjs.com/package/camera-picking-ray">camera-picking-ray</a></li>
<li><a href="https://www.npmjs.com/package/ray-sphere-intersection">ray-sphere-intersection</a></li>
<li><a href="https://www.npmjs.com/package/ray-plane-intersection">ray-plane-intersection</a></li>
<li><a href="https://www.npmjs.com/package/ray-triangle-intersection">ray-triangle-intersection</a></li>
</ul>
<h2 id="license">License</h2>
<p>MIT, see <a href="http://github.com/Jam3/ray-3d/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>
