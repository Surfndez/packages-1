<h1 id="glsl-fast-gaussian-blur"><a target="_blank" href="http://github.com/Jam3/glsl-fast-gaussian-blur">glsl-fast-gaussian-blur</a></h1>
<p><a href="http://github.com/badges/stability-badges"></a></p>
<p><iframe scrolling="no" seamless="seamless" src="http://jam3.github.io/glsl-fast-gaussian-blur/"></iframe></p>
<p><a href="http://jam3.github.io/glsl-fast-gaussian-blur/">demo</a> - <a href="./demo/index.js">source</a></p>
<p>Optimized separable gaussian blurs for GLSL. This is adapted from <a href="http://rastergrid.com/blog/2010/09/efficient-gaussian-blur-with-linear-sampling/">Efficient Gaussian Blur with Linear Sampling</a>.</p>
<h2 id="example">Example</h2>
<p>The function blurs in a single direction. For correct results, the texture should be using <code>gl.LINEAR</code> filtering.</p>
<pre><code class="lang-glsl"><span class="cp">#pragma glslify: blur = require(&apos;glsl-fast-gaussian-blur&apos;)</span>

<span class="k">uniform</span> <span class="k">vec2</span> <span class="n">iResolution</span><span class="p">;</span>
<span class="k">uniform</span> <span class="k">sampler2D</span> <span class="n">iChannel0</span><span class="p">;</span>
<span class="k">uniform</span> <span class="k">vec2</span> <span class="n">direction</span><span class="p">;</span>

<span class="k">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">vec2</span> <span class="n">uv</span> <span class="o">=</span> <span class="k">vec2</span><span class="p">(</span><span class="n">gl_FragCoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">/</span> <span class="n">iResolution</span><span class="p">.</span><span class="n">xy</span><span class="p">);</span>
  <span class="n">gl_FragColor</span> <span class="o">=</span> <span class="n">blur</span><span class="p">(</span><span class="n">iChannel0</span><span class="p">,</span> <span class="n">uv</span><span class="p">,</span> <span class="n">iResolution</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">direction</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<p>The module provides three levels of &quot;taps&quot; (the number of pixels averaged for the blur) that can be required individually. The default is 9.</p>
<pre><code class="lang-glsl"><span class="cp">#pragma glslify: blur1 = require(&apos;glsl-fast-gaussian-blur/13&apos;)</span>
<span class="cp">#pragma glslify: blur2 = require(&apos;glsl-fast-gaussian-blur/9&apos;)</span>
<span class="cp">#pragma glslify: blur3 = require(&apos;glsl-fast-gaussian-blur/5&apos;)</span>
</code></pre>
<p>Since this is separable, you will need multiple passes to blur an image in both directions. See <a href="https://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5">here</a> for details or <a href="./demo/index.js">the demo</a> for an implementation.</p>
<h2 id="install">Install</h2>
<p>Use <a href="https://www.npmjs.com/">npm</a> to install and <a href="https://github.com/stackgl/glslify">glslify</a> to consume the function in your shaders.</p>
<pre><code class="lang-sh">npm install glsl-fast-gaussian-blur --save
</code></pre>
<h2 id="usage">Usage</h2>
<p><a href="https://www.npmjs.com/package/glsl-fast-gaussian-blur"></a></p>
<h4 id="-vec4-blur-sampler2d-image-vec2-uv-vec2-resolution-vec2-direction-"><code>vec4 blur(sampler2D image, vec2 uv, vec2 resolution, vec2 direction)</code></h4>
<p>Blurs the <code>image</code> from the specified <code>uv</code> coordinate, using the given <code>resolution</code> (size in pixels of screen) and <code>direction</code> -- typically either <code>[1, 0]</code> (horizontal) or <code>[0, 1]</code> (vertical).</p>
<p>Returns the blurred pixel color.</p>
<h2 id="further-optimizations">Further Optimizations</h2>
<p>This can be further optimized on some devices (notably PowerVR) by using non-dependent texture reads. This can be done by calculating the texture coordinates in the vertex shader, and passing them as varyings to the fragment shader. This is left as an exercise for the reader to keep this module simple. You can read more about it <a href="http://xissburg.com/faster-gaussian-blur-in-glsl/">here</a>.</p>
<h2 id="license">License</h2>
<p>MIT, see <a href="http://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>
